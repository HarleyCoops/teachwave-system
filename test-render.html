<!DOCTYPE html>
<html>
<head>
    <title>Math Test - Question 8</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <style>
        body {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
            font-family: -apple-system, system-ui, sans-serif;
            line-height: 1.5;
        }
        .math-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        h2 {
            color: #2563eb;
            margin-top: 0;
        }
        pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="math-section">
        <h2>Key Concept Section</h2>
        <div id="keyConceptSection"></div>
    </div>
    
    <div class="math-section">
        <h2>Practice Question</h2>
        <div id="practiceQuestion"></div>
    </div>
    
    <div class="math-section">
        <h2>Solution</h2>
        <div id="solution"></div>
    </div>

    <script>
        // Load the JSON content directly
        const jsonContent = fetch('src/content/question_10.json')
            .then(response => response.json())
            .then(data => {
                document.getElementById('keyConceptSection').innerHTML = data.keyConceptSection;
                document.getElementById('practiceQuestion').innerHTML = data.practiceQuestion;
                document.getElementById('solution').innerHTML = data.solution;
                
                // Render math after content is loaded
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: "\\[", right: "\\]", display: true},
                        {left: "\\(", right: "\\)", display: false},
                        {left: "$", right: "$", display: false}
                    ],
                    throwOnError: false,
                    output: 'html'
                });
            })
            .catch(error => {
                document.body.innerHTML = `
                    <div style="color: red; margin: 20px;">
                        Error: You need to run this through a local server to avoid CORS issues.<br><br>
                        Try running:<br>
                        <pre>npx http-server</pre>
                        Then visit: <pre>http://localhost:8080/test-render.html</pre>
                    </div>
                `;
            });
    </script>
</body>
</html>
